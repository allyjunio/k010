<div class="page-header">
	<h1>Dados dos Perfis de Acesso
	</h1>
</div>

<div class="row">
	<div class="col-xs-12">

		<div class="row">

			<div class="col-sm-12">
				<uib-tabset>
					<uib-tab active="tab[0]" ng-click="selectList()">
						<uib-tab-heading>
							Lista de Perfis de Acesso
						</uib-tab-heading>
						<table datatable="ng" class="table table-striped table-bordered table-hover row-border hover">
							<thead>
							<tr>
								<th>Nome</th>
								<th>Quantidade de paginas</th>
								<th>Ações</th>
							</tr>
							</thead>

							<tbody>

							<tr ng-repeat="perfilAcesso in allPerfilAcesso">
								<td>{{perfilAcesso.nome}}</td>
								<td>{{perfilAcesso.perfilAcesso.length}}</td>
								<td>
									<div class='hidden-sm hidden-xs action-buttons'>
										<a class="blue" href="" ng-click="openModal(perfilAcesso._id.toString())"><i class="ace-icon fa fa-search-plus bigger-130"></i></a>
										<a class="green" href="" ng-click="restore(perfilAcesso._id.toString())"><i class="ace-icon fa fa-pencil bigger-130"></i></a>
									</div>
								</td>
							</tr>

							</tbody>
						</table>
						<script type="text/ng-template" id="modalContent.html">
							<div class="modal-header">
								<h3 class="modal-title">Detalhes do Perfil de Acesso</h3>
							</div>
							<div class="modal-body">
								<h3>Perfil de Acesso</h3>
								<ul>
									<li>Nome: <b>{{perfilAcessoModal.nome}}</b></li>
								</ul>
								<h3>Página</h3>
								<div ng-repeat="perfilAcesso in perfilAcessoModal.perfilAcesso">
									<ul>
										<li><b>{{perfilAcesso}}</b></li>
									</ul>
								</div>
							</div>
							<div class="modal-footer">
								<button class="btn btn-primary btn-sm" type="button" ng-click="ok()">OK</button>
							</div>
						</script>
					</uib-tab>

					<uib-tab active="tab[1]" ng-click="selectEdit()">
						<uib-tab-heading>
							Cadastro de Perfil de Acesso
						</uib-tab-heading>

						<form class="form-horizontal" role="form" name="fornCadastro">
							<input type="hidden" ng-model="cadastro._id"/>
							<div class="form-group">
								<label class="col-sm-1 control-label no-padding-right">
									Nome *
								</label>
								<div class="col-sm-11">
									<input type="text" placeholder="Nome" class="col-sm-12" ng-model="cadastro.nome" ng-required="true"/>
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-1 control-label no-padding-right">
									Páginas
								</label>
								<div class="col-sm-11">
									<table datatable="ng" class="table table-striped table-bordered table-hover row-border hover">
										<thead>
										<tr>
											<th class="center">
												<label class="pos-rel" ng-controller="SelectTableCtrl"><input type="checkbox" class="ace" ng-model="selectAll" /><span class="lbl"></span></label>
											</th>
											<th>Nome</th>
										</tr>
										</thead>

										<tbody>

										<tr ng-repeat="pagina in paginas">
											<td class='center'>
												<label class="pos-rel"><input type='checkbox' class="ace" ng-model="pagina.selected" /><span class="lbl"></span></label>
											</td>
											<td>{{pagina.title}}</td>
										</tr>

										</tbody>
									</table>
								</div>
							</div>

							<div class="clearfix">
								<div class="col-md-offset-1 col-md-12">
									<button class="btn btn-info" type="button" ng-click="enviar()" ng-disabled="fornCadastro.$invalid">
										<i class="ace-icon fa fa-check bigger-110"></i>
										Enviar
									</button>
								</div>
							</div>

						</form>


					</uib-tab>
				</uib-tabset>
			</div><!-- /.col -->
		</div>
	</div>
</div>

<script src="../components/underscore/underscore.min.js"></script>


